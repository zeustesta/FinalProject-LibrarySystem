<body class="hold-transition">
  <div class="container">
    <div class="card card-outline card-primary">
      <div class="card-body">
        <p>Complete para agregar un libro</p>
  
        <form action="/" [formGroup]="newBookForm">

          <!-- TITULO -->

          <div class="input-group ">
            <input type="text" class="form-control" placeholder="Ingrese el titulo" formControlName="titulo">
            <div class="input-group-append">
              <div class="input-group-text">
                <i class="fa-solid fa-circle-plus"></i>
              </div>
            </div>
          </div>
          <span *ngIf="newBookForm.get('titulo')?.hasError('required') && newBookForm.get('titulo')?.touched">¡Complete el titulo!</span>
          
          <!-- GENERO -->

          <div class="input-group mt-3">
            <select class="form-control" formControlName="genero" required>
              <option value="" disabled selected>Seleccione un género</option>
              <option *ngFor="let genre of generos" [value]="genre">{{ genre }}</option>
            </select>
            <div class="input-group-append">
              <div class="input-group-text">
                <i class="fa-solid fa-circle-plus"></i>
              </div>
            </div>
          </div>
          <span *ngIf="newBookForm.get('genero')?.hasError('required') && newBookForm.get('genero')?.touched">¡Seleccione un género!</span>
          
          <!-- AUTOR -->

          <div class="input-group mt-3">
            <input type="text" class="form-control" placeholder="Ingrese el autor" formControlName="autor">
            <div class="input-group-append">
              <div class="input-group-text">
                <i class="fa-solid fa-circle-plus"></i>
              </div>
            </div>
          </div>
          <span *ngIf="newBookForm.get('autor')?.hasError('required') && newBookForm.get('autor')?.touched">¡Complete el autor!</span>
          
          <!-- STOCK -->

          <div class="input-group mt-3">
            <input type="number" class="form-control" placeholder="Ingrese el stock" formControlName="stock">
            <div class="input-group-append">
              <div class="input-group-text">
                <i class="fa-solid fa-circle-plus"></i>              
                </div>
            </div>
          </div>
          <span *ngIf="newBookForm.get('stock')?.hasError('required') && newBookForm.get('stock')?.touched">¡Complete el stock!</span>

          <!-- PRECIO -->
          
          <div class="input-group mt-3">
            <input type="text" class="form-control" placeholder="Ingrese el precio" formControlName="precio">
            <div class="input-group-append">
              <div class="input-group-text">
                <i class="fa-solid fa-circle-plus"></i>              
              </div>
            </div>
          </div>
          <span *ngIf="newBookForm.get('precio')?.hasError('required') && newBookForm.get('precio')?.touched">¡Complete el precio!</span>

          <!-- PORTADA -->

          <div class="input-group mt-3">
            <input type="url" class="form-control" placeholder="Ingrese URL de la portada" formControlName="portada">
            <div class="input-group-append">
              <div class="input-group-text">
                <i class="fa-solid fa-circle-plus"></i>              
              </div>
            </div>
          </div>
          <span *ngIf="newBookForm.get('portada')?.hasError('required') && newBookForm.get('portada')?.touched">¡Complete la portada!</span>

          <div class="row mt-3">
            <div class="col-12">
              <button type="submit" [disabled]="newBookForm.invalid" class="btn btn-primary btn-block" (click)="addBook()">Agregar Libro</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</body>
